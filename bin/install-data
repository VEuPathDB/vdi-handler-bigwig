#!/usr/bin/perl

use strict;
use File::Copy;
use FindBin;
use lib "$FindBin::Bin/../lib/perl";
use BigWigUtils;

usage() unless scalar(@ARGV) == 2 && $ENV{DATA_FILES};

my ($datasetId, $inputDataDir) = @ARGV;

die "DATA_FILES is not a valid directory\n" unless -d $ENV{DATA_FILES};

opendir(my $dh, $inputDataDir) or die "can't open input data dir '$inputDataDir'\n";
my @files = readdir($dh);
for my $file (@files) {
  next if $file =~ /^\.+$/;
  installBwFile("$inputDataDir/$file", $ENV{DATA_FILES});
}

sub usage {
  die "
Install bigwig files.  Installs each file into the target user dataset dir

Usage: dataset_id data_dir

Environment: DATA_FILES
";
}



